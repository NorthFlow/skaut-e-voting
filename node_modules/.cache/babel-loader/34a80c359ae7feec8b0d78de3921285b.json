{"ast":null,"code":"import _objectSpread from \"/Users/apple/Public/Northflow/e-voting/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"/Users/apple/Public/Northflow/e-voting/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/apple/Public/Northflow/e-voting/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/apple/Public/Northflow/e-voting/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/apple/Public/Northflow/e-voting/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/Users/apple/Public/Northflow/e-voting/src/views/TableList/TableListClass.js\";\nimport React, { Component } from \"react\";\nimport Axios from 'axios'; // @material-ui/core components\n\nimport { makeStyles } from \"@material-ui/core/styles\"; // core components\n\nimport GridItem from \"components/Grid/GridItem.js\";\nimport GridContainer from \"components/Grid/GridContainer.js\";\nimport Table from \"components/Table/Table.js\";\nimport Card from \"components/Card/Card.js\";\nimport CardHeader from \"components/Card/CardHeader.js\";\nimport CardBody from \"components/Card/CardBody.js\";\nimport MyModal from \"../../components/Modal/MyModal\";\nimport { Modal, ModalManager, Effect } from 'react-dynamic-modal';\nvar styles = {\n  cardCategoryWhite: {\n    \"&,& a,& a:hover,& a:focus\": {\n      color: \"rgba(255,255,255,.62)\",\n      margin: \"0\",\n      fontSize: \"14px\",\n      marginTop: \"0\",\n      marginBottom: \"0\"\n    },\n    \"& a,& a:hover,& a:focus\": {\n      color: \"#FFFFFF\"\n    }\n  },\n  cardTitleWhite: {\n    color: \"#FFFFFF\",\n    marginTop: \"0px\",\n    minHeight: \"auto\",\n    fontWeight: \"300\",\n    fontFamily: \"'Roboto', 'Helvetica', 'Arial', sans-serif\",\n    marginBottom: \"3px\",\n    textDecoration: \"none\",\n    \"& small\": {\n      color: \"#777\",\n      fontSize: \"65%\",\n      fontWeight: \"400\",\n      lineHeight: \"1\"\n    }\n  }\n}; //const useStyles = makeStyles(styles);\n\nvar TableListClass = /*#__PURE__*/function (_Component) {\n  _inherits(TableListClass, _Component);\n\n  var _super = _createSuper(TableListClass);\n\n  function TableListClass(props) {\n    var _this;\n\n    _classCallCheck(this, TableListClass);\n\n    _this = _super.call(this, props);\n\n    _this.loadDataAfterSuccessLogin = function () {\n      //console.log(\"SPUSTAM NACITAVANIE\");\n      //LOAD poistovne\n      console.log(localStorage.getItem(\"token\"));\n      Axios.get('http://localhost:4001/voting/all-votings/' + localStorage.getItem(\"token\")).then(function (res) {\n        var tmpArray = [[]];\n\n        for (var i = 0; i < res.data.length; i++) {\n          var dataPom = [JSON.stringify(res.data[i].id_voting), res.data[i].name, true];\n          tmpArray.push(dataPom);\n        }\n\n        _this.setState({\n          DataForTable: tmpArray\n        });\n\n        var datas = _this.state.DataForTable.filter(function (e, i) {\n          return i !== 0;\n        });\n\n        _this.setState({\n          DataForTable: datas\n        });\n      })[\"catch\"](function (err) {\n        if (err.response) {\n          //TODO: show error response from server\n          window.alert(err.response.data.message);\n          console.log(err.response.data.message);\n\n          _this.setState(_objectSpread(_objectSpread({}, _this.state), {}, {\n            error: err.response.data.message\n          }));\n        } else if (err.request) {\n          //TODO: msg internet connection..\n          window.alert(\"Internet connection failed.\");\n        } else {\n          //TODO: rly dont know what error can happend here but can happend :D\n          window.alert(\"Something went wrong.\");\n        }\n      });\n    };\n\n    _this.state = {\n      classes: makeStyles(styles),\n      DataForTable: [[]]\n    };\n    return _this;\n  }\n\n  _createClass(TableListClass, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.loadDataAfterSuccessLogin();\n    }\n  }, {\n    key: \"openModal\",\n    value: function openModal() {// const text = this.refs.input.value;\n      //ModalManager.open(<MyModal text=\"Tralala\" onRequestClose={() => true}/>);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(GridContainer, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(GridItem, {\n        xs: 12,\n        sm: 12,\n        md: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(CardHeader, {\n        color: \"primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"h4\", {\n        className: this.state.classes.cardTitleWhite,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 13\n        }\n      }, \"Hlasovanie mal\\xFD snem 2021\"), /*#__PURE__*/React.createElement(\"p\", {\n        className: this.state.classes.cardCategoryWhite,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 13\n        }\n      }, \"V tejto tabu\\u013Ek\\xE9 n\\xE1jdete konkr\\xE9tne body hlasovania nastaven\\xE9 pre Mal\\xFD snem SLSK 2021.\")), /*#__PURE__*/React.createElement(CardBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Table, {\n        tableHeaderColor: \"primary\",\n        tableHead: [\"Číslo\", \"Krátky popis\", \"\"],\n        tableData: this.state.DataForTable,\n        clickButton: this.openModal.bind(this),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 13\n        }\n      })))));\n    }\n  }]);\n\n  return TableListClass;\n}(Component);\n\nexport default TableListClass;","map":{"version":3,"sources":["/Users/apple/Public/Northflow/e-voting/src/views/TableList/TableListClass.js"],"names":["React","Component","Axios","makeStyles","GridItem","GridContainer","Table","Card","CardHeader","CardBody","MyModal","Modal","ModalManager","Effect","styles","cardCategoryWhite","color","margin","fontSize","marginTop","marginBottom","cardTitleWhite","minHeight","fontWeight","fontFamily","textDecoration","lineHeight","TableListClass","props","loadDataAfterSuccessLogin","console","log","localStorage","getItem","get","then","res","tmpArray","i","data","length","dataPom","JSON","stringify","id_voting","name","push","setState","DataForTable","datas","state","filter","e","err","response","window","alert","message","error","request","classes","openModal","bind"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\nimport Axios from 'axios';\n// @material-ui/core components\nimport { makeStyles } from \"@material-ui/core/styles\";\n// core components\nimport GridItem from \"components/Grid/GridItem.js\";\nimport GridContainer from \"components/Grid/GridContainer.js\";\nimport Table from \"components/Table/Table.js\";\nimport Card from \"components/Card/Card.js\";\nimport CardHeader from \"components/Card/CardHeader.js\";\nimport CardBody from \"components/Card/CardBody.js\";\n\nimport MyModal from \"../../components/Modal/MyModal\";\n\nimport { Modal,ModalManager,Effect} from 'react-dynamic-modal';\n\nconst styles = {\n  cardCategoryWhite: {\n    \"&,& a,& a:hover,& a:focus\": {\n      color: \"rgba(255,255,255,.62)\",\n      margin: \"0\",\n      fontSize: \"14px\",\n      marginTop: \"0\",\n      marginBottom: \"0\"\n    },\n    \"& a,& a:hover,& a:focus\": {\n      color: \"#FFFFFF\"\n    }\n  },\n  cardTitleWhite: {\n    color: \"#FFFFFF\",\n    marginTop: \"0px\",\n    minHeight: \"auto\",\n    fontWeight: \"300\",\n    fontFamily: \"'Roboto', 'Helvetica', 'Arial', sans-serif\",\n    marginBottom: \"3px\",\n    textDecoration: \"none\",\n    \"& small\": {\n      color: \"#777\",\n      fontSize: \"65%\",\n      fontWeight: \"400\",\n      lineHeight: \"1\"\n    }\n  }\n};\n\n//const useStyles = makeStyles(styles);\n\n\n\nclass  TableListClass extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      classes : makeStyles(styles),\n      DataForTable : [[]]\n    }\n  }\n  componentDidMount() {\n    this.loadDataAfterSuccessLogin();\n  }\n\n  openModal(){\n    // const text = this.refs.input.value;\n    //ModalManager.open(<MyModal text=\"Tralala\" onRequestClose={() => true}/>);\n }\n\n  loadDataAfterSuccessLogin = () => {\n    //console.log(\"SPUSTAM NACITAVANIE\");\n    //LOAD poistovne\n    console.log(localStorage.getItem(\"token\"));\n    Axios.get('http://localhost:4001/voting/all-votings/' + localStorage.getItem(\"token\"))\n    .then(res => {\n      let tmpArray = [[]];\n      for(var i=0; i< res.data.length; i++){\n        var dataPom = [JSON.stringify(res.data[i].id_voting), res.data[i].name, true];\n        tmpArray.push(dataPom);\n      }\n\n      this.setState({\n        DataForTable: tmpArray\n    })\n\n    let datas = this.state.DataForTable.filter((e, i) => i !== 0);\n    this.setState({ DataForTable : datas });\n\n    })\n    .catch(err => {\n      if (err.response) {\n        //TODO: show error response from server\n        window.alert(err.response.data.message);\n        \n        console.log(err.response.data.message);\n        this.setState({...this.state,error: err.response.data.message})\n      } else if (err.request) {\n        //TODO: msg internet connection..\n        window.alert(\"Internet connection failed.\");\n      } else {\n          //TODO: rly dont know what error can happend here but can happend :D\n          window.alert(\"Something went wrong.\");\n    }});\n  }\n  \nrender(){\n  return (\n    <GridContainer>\n      <GridItem xs={12} sm={12} md={12}>\n        <Card >\n          <CardHeader color=\"primary\">\n            <h4 className={this.state.classes.cardTitleWhite}>Hlasovanie malý snem 2021</h4>\n            <p className={this.state.classes.cardCategoryWhite}>\n              V tejto tabuľké nájdete konkrétne body hlasovania nastavené pre Malý snem SLSK 2021.\n            </p>\n          </CardHeader>\n          <CardBody>\n            <Table\n              tableHeaderColor=\"primary\"\n              tableHead={[\"Číslo\", \"Krátky popis\", \"\"]}\n              tableData= {this.state.DataForTable}\n              clickButton={this.openModal.bind(this)}\n            />\n          </CardBody>\n        </Card>\n      </GridItem>\n      \n    </GridContainer>\n  );\n}\n  \n}\n\n\nexport default TableListClass;"]},"metadata":{},"sourceType":"module"}