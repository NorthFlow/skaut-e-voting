{"ast":null,"code":"import _objectSpread from\"/Users/apple/Public/Northflow/e-voting/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/apple/Public/Northflow/e-voting/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/apple/Public/Northflow/e-voting/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/apple/Public/Northflow/e-voting/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/apple/Public/Northflow/e-voting/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Modal,Effect}from'react-dynamic-modal';import SquareButton from'../CustomButtons/SquareButton';import{makeStyles}from\"@material-ui/core/styles\";import ChartistGraph from\"react-chartist\";import'./Modal.css';import Axios from'axios';// core components\nimport Card from\"../Card/Card\";import CardHeader from\"../Card/CardHeader.js\";import{questionStatsParams}from\"../../variables/charts\";var styles={overlay:{position:'relative',top:0,left:0,right:0,bottom:0,zIndex:99999999,overflowY:'scroll',height:'500px',backgroundColor:'rgba(0, 0, 0, 0.3)'},content:{position:'relative',margin:'15% auto',width:'50%',border:'1px solid rgba(0, 0, 0, .2)',background:'#fff',overflowY:'scroll',borderRadius:'4px',outline:'none',boxShadow:'0 5px 10px rgba(0, 0, 0, .3)'}};var MyModal=/*#__PURE__*/function(_Component){_inherits(MyModal,_Component);var _super=_createSuper(MyModal);function MyModal(props){var _this;_classCallCheck(this,MyModal);_this=_super.call(this,props);_this.handleClick=function(answer_id,quest_id,is_secret){//onRequestClose\n//console.log(\"CLICKED \"+answer_id)\n//pouzijeme ak je volba NEtajna\nvar SetVoteParamsNew={answer_id:answer_id,question_id:quest_id,user_id:parseInt(localStorage.getItem(\"token\"),10)};var SetMarkVotedParamsNew={user_id:parseInt(localStorage.getItem(\"token\"),10),question_id:quest_id};//pouzijeme ak je volba TAJNA\nvar SetVoteParamsNew_tajna={answer_id:answer_id,question_id:quest_id,user_id:null};//console.log(\"is secret:\"+is_secret)\nif(is_secret===1){console.log(SetVoteParamsNew_tajna);Axios.post('/voting/set-vote',SetVoteParamsNew_tajna).then(function(res){console.log(\"SET VOTE DONE\");//console.log(res.results)\n//ak toto preslo ok tak ulozime este info ze uzivatel hlasoval\nAxios.post('/voting/set-mark-voted',SetMarkVotedParamsNew).then(function(res){console.log(\"SET MARK VOTED DONE\");console.log(res.results);window.location.reload(false);}).catch(function(err){if(err.response){//TODO: show error response from server\nwindow.alert(err.response.data.message);console.log(err.response.data.message);_this.setState(_objectSpread(_objectSpread({},_this.state),{},{error:err.response.data.message}));}else if(err.request){//TODO: msg internet connection..\nwindow.alert(\"Internet connection failed.\");}else{//TODO: rly dont know what error can happend here but can happend :D\nwindow.alert(\"Something went wrong.\");}});}).catch(function(err){if(err.response){//TODO: show error response from server\nwindow.alert(err.response.data.message);console.log(err.response.data.message);_this.setState(_objectSpread(_objectSpread({},_this.state),{},{error:err.response.data.message}));}else if(err.request){//TODO: msg internet connection..\nwindow.alert(\"Internet connection failed.\");//console.log(\"internte connection failed\");\n}else{//TODO: rly dont know what error can happend here but can happend :D\nwindow.alert(\"Something went wrong.\");//console.log(\"something went wrong?!\");\n}});}else{console.log(SetVoteParamsNew);Axios.post('/voting/set-vote',SetVoteParamsNew).then(function(res){//console.log(\"SET VOTE DONE\");\nconsole.log(res.results);//ak toto preslo ok tak ulozime este info ze uzivatel hlasoval\nAxios.post('/voting/set-mark-voted',SetMarkVotedParamsNew).then(function(res){//console.log(\"SET MARK VOTED DONE\");\nconsole.log(res.results);window.location.reload(false);}).catch(function(err){if(err.response){//TODO: show error response from server\nwindow.alert(err.response.data.message);_this.setState(_objectSpread(_objectSpread({},_this.state),{},{error:err.response.data.message}));}else if(err.request){//TODO: msg internet connection..\nwindow.alert(\"Internet connection failed.\");}else{//TODO: rly dont know what error can happend here but can happend :D\nwindow.alert(\"Something went wrong.\");}});}).catch(function(err){if(err.response){//TODO: show error response from server\nwindow.alert(err.response.data.message);console.log(err.response.data.message);_this.setState(_objectSpread(_objectSpread({},_this.state),{},{error:err.response.data.message}));}else if(err.request){//TODO: msg internet connection..\nwindow.alert(\"Internet connection failed.\");}else{//TODO: rly dont know what error can happend here but can happend :D\nwindow.alert(\"Something went wrong.\");}});}};_this.state={statData:[[]],classes:makeStyles(styles),SetVoteParams:{answer_id:'',question_id:'',voting_id:'',user_id:''},SetMarkVotedParams:{question_id:'',user_id:''}};return _this;}_createClass(MyModal,[{key:\"render\",value:function render(){var _this2=this;var _this$props=this.props,statsData=_this$props.statsData,secret=_this$props.secret,otv=_this$props.otv,otazka_id=_this$props.otazka_id,hlavicka=_this$props.hlavicka,odpovede=_this$props.odpovede,parametre=_this$props.parametre,onRequestClose=_this$props.onRequestClose;//console.log(hlavicka[0].name)\n//console.log(\" /// odpovede\")\n//console.log(odpovede)\n//console.log(parametre)\n//console.log(\"------ stats data in modal\")\n//console.log(statsData);\n//console.log(\"otvorene: \"+otv)\nif(otv==='√Åno'){return/*#__PURE__*/React.createElement(\"div\",{style:{textAlign:'center'}},/*#__PURE__*/React.createElement(Modal,{onRequestClose:onRequestClose,effect:Effect.SlideFromBottom},/*#__PURE__*/React.createElement(\"h3\",{className:\"h3-custom\"},hlavicka[0].name,\" \"),/*#__PURE__*/React.createElement(\"p\",{className:\"h5-custom\"},hlavicka[0].wording,\" \"),/*#__PURE__*/React.createElement(\"div\",{style:{paddingBottom:'40px'}},odpovede.map(function(item,index){return/*#__PURE__*/React.createElement(SquareButton,{key:index,clicked:function clicked(){return _this2.handleClick(item.id_answer,otazka_id,secret);}},item.answer,\" \");}))));}else{return/*#__PURE__*/React.createElement(\"div\",{style:{textAlign:'center'}},/*#__PURE__*/React.createElement(Modal,{onRequestClose:onRequestClose,effect:Effect.SlideFromBottom},/*#__PURE__*/React.createElement(\"h3\",{className:\"h3-custom\"},hlavicka[0].name,\" \"),/*#__PURE__*/React.createElement(\"p\",{className:\"h5-custom\"},hlavicka[0].wording,\" \"),/*#__PURE__*/React.createElement(Card,{chart:true},/*#__PURE__*/React.createElement(CardHeader,{color:\"warning\"},/*#__PURE__*/React.createElement(ChartistGraph,{className:\"ct-chart\",data:statsData,type:\"Bar\",options:questionStatsParams.options,responsiveOptions:questionStatsParams.responsiveOptions,listener:questionStatsParams.animation})))));}}}]);return MyModal;}(Component);export default MyModal;","map":{"version":3,"sources":["/Users/apple/Public/Northflow/e-voting/src/components/Modal/MyModal.js"],"names":["React","Component","Modal","Effect","SquareButton","makeStyles","ChartistGraph","Axios","Card","CardHeader","questionStatsParams","styles","overlay","position","top","left","right","bottom","zIndex","overflowY","height","backgroundColor","content","margin","width","border","background","borderRadius","outline","boxShadow","MyModal","props","handleClick","answer_id","quest_id","is_secret","SetVoteParamsNew","question_id","user_id","parseInt","localStorage","getItem","SetMarkVotedParamsNew","SetVoteParamsNew_tajna","console","log","post","then","res","results","window","location","reload","catch","err","response","alert","data","message","setState","state","error","request","statData","classes","SetVoteParams","voting_id","SetMarkVotedParams","statsData","secret","otv","otazka_id","hlavicka","odpovede","parametre","onRequestClose","textAlign","SlideFromBottom","name","wording","paddingBottom","map","item","index","id_answer","answer","options","responsiveOptions","animation"],"mappings":"gwBAAA,MAAOA,CAAAA,KAAP,EAAcC,SAAd,KAA8B,OAA9B,CACA,OAASC,KAAT,CAAeC,MAAf,KAA4B,qBAA5B,CACA,MAAOC,CAAAA,YAAP,KAAyB,+BAAzB,CACA,OAASC,UAAT,KAA2B,0BAA3B,CACA,MAAOC,CAAAA,aAAP,KAA0B,gBAA1B,CACA,MAAO,aAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA;AACA,MAAOC,CAAAA,IAAP,KAAiB,cAAjB,CACA,MAAOC,CAAAA,UAAP,KAAuB,uBAAvB,CAEA,OACGC,mBADH,KAEQ,wBAFR,CAIA,GAAMC,CAAAA,MAAM,CAAG,CACZC,OAAO,CAAE,CACNC,QAAQ,CAAU,UADZ,CAENC,GAAG,CAAe,CAFZ,CAGNC,IAAI,CAAc,CAHZ,CAINC,KAAK,CAAa,CAJZ,CAKNC,MAAM,CAAY,CALZ,CAMNC,MAAM,CAAY,QANZ,CAONC,SAAS,CAAS,QAPZ,CAQNC,MAAM,CAAY,OARZ,CASNC,eAAe,CAAG,oBATZ,CADG,CAaXC,OAAO,CAAE,CACPT,QAAQ,CAAkB,UADnB,CAEPU,MAAM,CAAoB,UAFnB,CAGPC,KAAK,CAAqB,KAHnB,CAIPC,MAAM,CAAoB,6BAJnB,CAKPC,UAAU,CAAgB,MALnB,CAMPP,SAAS,CAAiB,QANnB,CAOPQ,YAAY,CAAc,KAPnB,CAQPC,OAAO,CAAmB,MARnB,CASPC,SAAS,CAAiB,8BATnB,CAbE,CAAf,C,GA4BMC,CAAAA,O,kGACH,iBAAYC,KAAZ,CAAmB,yCAChB,uBAAMA,KAAN,EADgB,MAoBlBC,WApBkB,CAoBN,SAACC,SAAD,CAAWC,QAAX,CAAoBC,SAApB,CAAgC,CAC1C;AACA;AAEA;AACA,GAAIC,CAAAA,gBAAgB,CAAG,CACpBH,SAAS,CAACA,SADU,CAEpBI,WAAW,CAACH,QAFQ,CAGpBI,OAAO,CAACC,QAAQ,CAACC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAD,CAA+B,EAA/B,CAHI,CAAvB,CAKE,GAAIC,CAAAA,qBAAqB,CAAG,CAC3BJ,OAAO,CAACC,QAAQ,CAACC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAD,CAA+B,EAA/B,CADW,CAE3BJ,WAAW,CAACH,QAFe,CAA5B,CAIF;AACA,GAAIS,CAAAA,sBAAsB,CAAG,CAC1BV,SAAS,CAACA,SADgB,CAE1BI,WAAW,CAACH,QAFc,CAG1BI,OAAO,CAAC,IAHkB,CAA7B,CAKG;AAEA,GAAGH,SAAS,GAAG,CAAf,CAAiB,CACdS,OAAO,CAACC,GAAR,CAAYF,sBAAZ,EAEApC,KAAK,CAACuC,IAAN,CAAW,kBAAX,CAAgCH,sBAAhC,EACCI,IADD,CACM,SAAAC,GAAG,CAAI,CACVJ,OAAO,CAACC,GAAR,CAAY,eAAZ,EACA;AACH;AAEAtC,KAAK,CAACuC,IAAN,CAAW,wBAAX,CAAsCJ,qBAAtC,EACCK,IADD,CACM,SAAAC,GAAG,CAAI,CACVJ,OAAO,CAACC,GAAR,CAAY,qBAAZ,EACAD,OAAO,CAACC,GAAR,CAAYG,GAAG,CAACC,OAAhB,EACAC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,KAAvB,EAEF,CAND,EAOCC,KAPD,CAOO,SAAAC,GAAG,CAAI,CACX,GAAIA,GAAG,CAACC,QAAR,CAAkB,CAClB;AACAL,MAAM,CAACM,KAAP,CAAaF,GAAG,CAACC,QAAJ,CAAaE,IAAb,CAAkBC,OAA/B,EAEAd,OAAO,CAACC,GAAR,CAAYS,GAAG,CAACC,QAAJ,CAAaE,IAAb,CAAkBC,OAA9B,EACA,MAAKC,QAAL,gCAAkB,MAAKC,KAAvB,MAA6BC,KAAK,CAAEP,GAAG,CAACC,QAAJ,CAAaE,IAAb,CAAkBC,OAAtD,IACC,CAND,IAMO,IAAIJ,GAAG,CAACQ,OAAR,CAAiB,CACxB;AACAZ,MAAM,CAACM,KAAP,CAAa,6BAAb,EACC,CAHM,IAGA,CACJ;AACAN,MAAM,CAACM,KAAP,CAAa,uBAAb,EACL,CAAC,CApBF,EAqBC,CA3BD,EA4BCH,KA5BD,CA4BO,SAAAC,GAAG,CAAI,CACX,GAAIA,GAAG,CAACC,QAAR,CAAkB,CAClB;AACAL,MAAM,CAACM,KAAP,CAAaF,GAAG,CAACC,QAAJ,CAAaE,IAAb,CAAkBC,OAA/B,EAEAd,OAAO,CAACC,GAAR,CAAYS,GAAG,CAACC,QAAJ,CAAaE,IAAb,CAAkBC,OAA9B,EACA,MAAKC,QAAL,gCAAkB,MAAKC,KAAvB,MAA6BC,KAAK,CAAEP,GAAG,CAACC,QAAJ,CAAaE,IAAb,CAAkBC,OAAtD,IACC,CAND,IAMO,IAAIJ,GAAG,CAACQ,OAAR,CAAiB,CACxB;AACAZ,MAAM,CAACM,KAAP,CAAa,6BAAb,EACA;AACC,CAJM,IAIA,CACJ;AACAN,MAAM,CAACM,KAAP,CAAa,uBAAb,EACA;AACL,CAAC,CA3CF,EA6CF,CAhDD,IAgDK,CACFZ,OAAO,CAACC,GAAR,CAAYT,gBAAZ,EACA7B,KAAK,CAACuC,IAAN,CAAW,kBAAX,CAAgCV,gBAAhC,EACCW,IADD,CACM,SAAAC,GAAG,CAAI,CACV;AACAJ,OAAO,CAACC,GAAR,CAAYG,GAAG,CAACC,OAAhB,EACH;AAEA1C,KAAK,CAACuC,IAAN,CAAW,wBAAX,CAAsCJ,qBAAtC,EACCK,IADD,CACM,SAAAC,GAAG,CAAI,CACV;AACAJ,OAAO,CAACC,GAAR,CAAYG,GAAG,CAACC,OAAhB,EAEAC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,KAAvB,EAEF,CAPD,EAQCC,KARD,CAQO,SAAAC,GAAG,CAAI,CACX,GAAIA,GAAG,CAACC,QAAR,CAAkB,CAClB;AACAL,MAAM,CAACM,KAAP,CAAaF,GAAG,CAACC,QAAJ,CAAaE,IAAb,CAAkBC,OAA/B,EACA,MAAKC,QAAL,gCAAkB,MAAKC,KAAvB,MAA6BC,KAAK,CAAEP,GAAG,CAACC,QAAJ,CAAaE,IAAb,CAAkBC,OAAtD,IACC,CAJD,IAIO,IAAIJ,GAAG,CAACQ,OAAR,CAAiB,CACxB;AACAZ,MAAM,CAACM,KAAP,CAAa,6BAAb,EACC,CAHM,IAGA,CACJ;AACAN,MAAM,CAACM,KAAP,CAAa,uBAAb,EACL,CAAC,CAnBF,EAoBC,CA1BD,EA2BCH,KA3BD,CA2BO,SAAAC,GAAG,CAAI,CACX,GAAIA,GAAG,CAACC,QAAR,CAAkB,CAClB;AACAL,MAAM,CAACM,KAAP,CAAaF,GAAG,CAACC,QAAJ,CAAaE,IAAb,CAAkBC,OAA/B,EAEAd,OAAO,CAACC,GAAR,CAAYS,GAAG,CAACC,QAAJ,CAAaE,IAAb,CAAkBC,OAA9B,EACA,MAAKC,QAAL,gCAAkB,MAAKC,KAAvB,MAA6BC,KAAK,CAAEP,GAAG,CAACC,QAAJ,CAAaE,IAAb,CAAkBC,OAAtD,IACC,CAND,IAMO,IAAIJ,GAAG,CAACQ,OAAR,CAAiB,CACxB;AACAZ,MAAM,CAACM,KAAP,CAAa,6BAAb,EACC,CAHM,IAGA,CACJ;AACAN,MAAM,CAACM,KAAP,CAAa,uBAAb,EACL,CAAC,CAxCF,EAyCF,CAGL,CAxIiB,CAGhB,MAAKI,KAAL,CAAa,CACVG,QAAQ,CAAC,CAAC,EAAD,CADC,CAEXC,OAAO,CAAG3D,UAAU,CAACM,MAAD,CAFT,CAGXsD,aAAa,CAAC,CACbhC,SAAS,CAAC,EADG,CAEbI,WAAW,CAAC,EAFC,CAGb6B,SAAS,CAAC,EAHG,CAIb5B,OAAO,CAAC,EAJK,CAHH,CASZ6B,kBAAkB,CAAC,CAClB9B,WAAW,CAAC,EADM,CAElBC,OAAO,CAAC,EAFU,CATP,CAAb,CAHgB,aAiBjB,C,0CAyHF,iBAAQ,iCACkF,KAAKP,KADvF,CACGqC,SADH,aACGA,SADH,CACaC,MADb,aACaA,MADb,CACoBC,GADpB,aACoBA,GADpB,CACwBC,SADxB,aACwBA,SADxB,CACkCC,QADlC,aACkCA,QADlC,CAC2CC,QAD3C,aAC2CA,QAD3C,CACoDC,SADpD,aACoDA,SADpD,CAC+DC,cAD/D,aAC+DA,cAD/D,CAEL;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,GAAGL,GAAG,GAAG,KAAT,CAAe,CAEZ,mBACG,2BAAK,KAAK,CAAE,CAACM,SAAS,CAAE,QAAZ,CAAZ,eACG,oBAAC,KAAD,EACA,cAAc,CAAED,cADhB,CAEA,MAAM,CAAExE,MAAM,CAAC0E,eAFf,eAIM,0BAAI,SAAS,CAAC,WAAd,EAA4BL,QAAQ,CAAC,CAAD,CAAR,CAAYM,IAAxC,KAJN,cAKM,yBAAG,SAAS,CAAC,WAAb,EAA2BN,QAAQ,CAAC,CAAD,CAAR,CAAYO,OAAvC,KALN,cAOM,2BAAK,KAAK,CAAE,CAACC,aAAa,CAAE,MAAhB,CAAZ,EACCP,QAAQ,CAACQ,GAAT,CAAa,SAACC,IAAD,CAAMC,KAAN,CAAc,CACzB,mBAAO,oBAAC,YAAD,EAAc,GAAG,CAAEA,KAAnB,CAA0B,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACnD,WAAL,CAAiBkD,IAAI,CAACE,SAAtB,CAAgCb,SAAhC,CAA0CF,MAA1C,CAAN,EAAnC,EAA6Fa,IAAI,CAACG,MAAlG,KAAP,CACF,CAFA,CADD,CAPN,CADH,CADH,CAqBF,CAvBD,IAuBK,CACF,mBACG,2BAAK,KAAK,CAAE,CAACT,SAAS,CAAE,QAAZ,CAAZ,eACG,oBAAC,KAAD,EACA,cAAc,CAAED,cADhB,CAEA,MAAM,CAAExE,MAAM,CAAC0E,eAFf,eAIG,0BAAI,SAAS,CAAC,WAAd,EAA4BL,QAAQ,CAAC,CAAD,CAAR,CAAYM,IAAxC,KAJH,cAKG,yBAAG,SAAS,CAAC,WAAb,EAA2BN,QAAQ,CAAC,CAAD,CAAR,CAAYO,OAAvC,KALH,cAOG,oBAAC,IAAD,EAAM,KAAK,KAAX,eACG,oBAAC,UAAD,EAAY,KAAK,CAAC,SAAlB,eACA,oBAAC,aAAD,EACG,SAAS,CAAC,UADb,CAEG,IAAI,CAAEX,SAFT,CAGG,IAAI,CAAC,KAHR,CAIG,OAAO,CAAE1D,mBAAmB,CAAC4E,OAJhC,CAKG,iBAAiB,CAAE5E,mBAAmB,CAAC6E,iBAL1C,CAMG,QAAQ,CAAE7E,mBAAmB,CAAC8E,SANjC,EADA,CADH,CAPH,CADH,CADH,CA0BF,CAEH,C,qBAzMkBvF,S,EA4MtB,cAAe6B,CAAAA,OAAf","sourcesContent":["import React,{Component} from 'react';\nimport { Modal,Effect} from 'react-dynamic-modal';\nimport SquareButton from '../CustomButtons/SquareButton';\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport ChartistGraph from \"react-chartist\";\nimport './Modal.css';\nimport Axios from 'axios';\n\n// core components\nimport Card from \"../Card/Card\";\nimport CardHeader from \"../Card/CardHeader.js\";\n\nimport {\n   questionStatsParams\n } from \"../../variables/charts\";\n \nconst styles = {\n   overlay: {\n      position        : 'relative',\n      top             : 0,\n      left            : 0,\n      right           : 0,\n      bottom          : 0,\n      zIndex          : 99999999,\n      overflowY       : 'scroll',\n      height          : '500px',\n      backgroundColor : 'rgba(0, 0, 0, 0.3)'\n    },\n  \n    content: {\n      position                : 'relative',\n      margin                  : '15% auto',\n      width                   : '50%',\n      border                  : '1px solid rgba(0, 0, 0, .2)',\n      background              : '#fff',\n      overflowY               : 'scroll',\n      borderRadius            : '4px',\n      outline                 : 'none',\n      boxShadow               : '0 5px 10px rgba(0, 0, 0, .3)',\n      \n    }\n };\n\n\nclass MyModal extends Component{\n   constructor(props) {\n      super(props);\n  \n      this.state = {\n         statData:[[]],\n        classes : makeStyles(styles),\n        SetVoteParams:{\n         answer_id:'',\n         question_id:'',\n         voting_id:'',\n         user_id:''\n       },\n       SetMarkVotedParams:{\n        question_id:'',\n        user_id:''\n      },\n      }\n    }\n    \n\n    handleClick=(answer_id,quest_id,is_secret)=>{\n      //onRequestClose\n      //console.log(\"CLICKED \"+answer_id)\n\n      //pouzijeme ak je volba NEtajna\n      let SetVoteParamsNew = { \n         answer_id:answer_id,\n         question_id:quest_id,\n         user_id:parseInt(localStorage.getItem(\"token\"),10)\n        };\n        let SetMarkVotedParamsNew = { \n         user_id:parseInt(localStorage.getItem(\"token\"),10),\n         question_id:quest_id\n        };\n      //pouzijeme ak je volba TAJNA\n      let SetVoteParamsNew_tajna = { \n         answer_id:answer_id,\n         question_id:quest_id,\n         user_id:null\n         };\n         //console.log(\"is secret:\"+is_secret)\n\n         if(is_secret===1){\n            console.log(SetVoteParamsNew_tajna)\n\n            Axios.post('/voting/set-vote' , SetVoteParamsNew_tajna)\n            .then(res => {\n               console.log(\"SET VOTE DONE\");\n               //console.log(res.results)\n            //ak toto preslo ok tak ulozime este info ze uzivatel hlasoval\n         \n            Axios.post('/voting/set-mark-voted' , SetMarkVotedParamsNew)\n            .then(res => {\n               console.log(\"SET MARK VOTED DONE\");\n               console.log(res.results)\n               window.location.reload(false);\n         \n            })\n            .catch(err => {\n               if (err.response) {\n               //TODO: show error response from server\n               window.alert(err.response.data.message);\n               \n               console.log(err.response.data.message);\n               this.setState({...this.state,error: err.response.data.message})\n               } else if (err.request) {\n               //TODO: msg internet connection..\n               window.alert(\"Internet connection failed.\");\n               } else {\n                  //TODO: rly dont know what error can happend here but can happend :D\n                  window.alert(\"Something went wrong.\");\n            }});\n            })\n            .catch(err => {\n               if (err.response) {\n               //TODO: show error response from server\n               window.alert(err.response.data.message);\n               \n               console.log(err.response.data.message);\n               this.setState({...this.state,error: err.response.data.message})\n               } else if (err.request) {\n               //TODO: msg internet connection..\n               window.alert(\"Internet connection failed.\");\n               //console.log(\"internte connection failed\");\n               } else {\n                  //TODO: rly dont know what error can happend here but can happend :D\n                  window.alert(\"Something went wrong.\");\n                  //console.log(\"something went wrong?!\");\n            }});\n            \n         }else{\n            console.log(SetVoteParamsNew)\n            Axios.post('/voting/set-vote' , SetVoteParamsNew)\n            .then(res => {\n               //console.log(\"SET VOTE DONE\");\n               console.log(res.results)\n            //ak toto preslo ok tak ulozime este info ze uzivatel hlasoval\n         \n            Axios.post('/voting/set-mark-voted' , SetMarkVotedParamsNew)\n            .then(res => {\n               //console.log(\"SET MARK VOTED DONE\");\n               console.log(res.results)\n         \n               window.location.reload(false);\n         \n            })\n            .catch(err => {\n               if (err.response) {\n               //TODO: show error response from server\n               window.alert(err.response.data.message);\n               this.setState({...this.state,error: err.response.data.message})\n               } else if (err.request) {\n               //TODO: msg internet connection..\n               window.alert(\"Internet connection failed.\");\n               } else {\n                  //TODO: rly dont know what error can happend here but can happend :D\n                  window.alert(\"Something went wrong.\");\n            }});\n            })\n            .catch(err => {\n               if (err.response) {\n               //TODO: show error response from server\n               window.alert(err.response.data.message);\n               \n               console.log(err.response.data.message);\n               this.setState({...this.state,error: err.response.data.message})\n               } else if (err.request) {\n               //TODO: msg internet connection..\n               window.alert(\"Internet connection failed.\");\n               } else {\n                  //TODO: rly dont know what error can happend here but can happend :D\n                  window.alert(\"Something went wrong.\");\n            }});\n         }\n       \n         \n    }\n\n   render(){\n      const { statsData,secret,otv,otazka_id,hlavicka,odpovede,parametre, onRequestClose } = this.props;\n      //console.log(hlavicka[0].name)\n      //console.log(\" /// odpovede\")\n      //console.log(odpovede)\n      //console.log(parametre)\n      //console.log(\"------ stats data in modal\")\n      //console.log(statsData);\n      //console.log(\"otvorene: \"+otv)\n           \n      if(otv==='√Åno'){\n\n         return (\n            <div style={{textAlign: 'center'}}>\n               <Modal\n               onRequestClose={onRequestClose}\n               effect={Effect.SlideFromBottom}\n               >\n                     <h3 className='h3-custom'>{ hlavicka[0].name } </h3>\n                     <p className='h5-custom'>{ hlavicka[0].wording } </p>\n\n                     <div style={{paddingBottom: '40px'}}>\n                     {odpovede.map((item,index)=>{\n                        return <SquareButton key={index} clicked={() => this.handleClick(item.id_answer,otazka_id,secret)}>{item.answer } </SquareButton>\n                     }\n                     )}\n                     </div>\n                  \n               </Modal>\n            </div>\n\n            \n         );\n      }else{\n         return(\n            <div style={{textAlign: 'center'}}>\n               <Modal\n               onRequestClose={onRequestClose}\n               effect={Effect.SlideFromBottom}\n               >\n                  <h3 className='h3-custom'>{ hlavicka[0].name } </h3>\n                  <p className='h5-custom'>{ hlavicka[0].wording } </p>\n\n                  <Card chart>\n                     <CardHeader color=\"warning\">\n                     <ChartistGraph\n                        className=\"ct-chart\"\n                        data={statsData}\n                        type=\"Bar\"\n                        options={questionStatsParams.options}\n                        responsiveOptions={questionStatsParams.responsiveOptions}\n                        listener={questionStatsParams.animation}\n                     />\n                     </CardHeader>\n                  </Card>\n\n            </Modal>\n            </div>\n            \n         )\n      }\n               \n   }\n}\n\nexport default MyModal;"]},"metadata":{},"sourceType":"module"}