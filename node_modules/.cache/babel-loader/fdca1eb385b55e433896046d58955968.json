{"ast":null,"code":"import _objectSpread from \"/Users/apple/Public/Northflow/e-voting/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"/Users/apple/Public/Northflow/e-voting/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/apple/Public/Northflow/e-voting/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/apple/Public/Northflow/e-voting/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/apple/Public/Northflow/e-voting/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/Users/apple/Public/Northflow/e-voting/src/components/Modal/MyModal.js\";\nimport React, { Component } from 'react';\nimport { Modal, Effect } from 'react-dynamic-modal';\nimport SquareButton from '../CustomButtons/SquareButton';\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Aux from '../hoc/AuxComponent';\nimport './Modal.css';\nvar styles = {\n  overlay: {\n    position: 'relative',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    zIndex: 99999999,\n    overflowY: 'scroll',\n    height: '500px',\n    backgroundColor: 'rgba(0, 0, 0, 0.3)'\n  },\n  content: {\n    position: 'relative',\n    margin: '15% auto',\n    width: '50%',\n    border: '1px solid rgba(0, 0, 0, .2)',\n    background: '#fff',\n    overflowY: 'scroll',\n    borderRadius: '4px',\n    outline: 'none',\n    boxShadow: '0 5px 10px rgba(0, 0, 0, .3)'\n  }\n};\n\nvar MyModal = /*#__PURE__*/function (_Component) {\n  _inherits(MyModal, _Component);\n\n  var _super = _createSuper(MyModal);\n\n  function MyModal(props) {\n    var _this;\n\n    _classCallCheck(this, MyModal);\n\n    _this = _super.call(this, props);\n\n    _this.handleClick = function (answer_id, quest_id) {\n      //onRequestClose\n      console.log(\"CLICKED \" + answer_id);\n      var SetVoteParamsNew = {\n        answer_id: answer_id,\n        question_id: quest_id,\n        voting_id: 2,\n        user_id: parseInt(localStorage.getItem(\"token\"), 10)\n      };\n      var SetMarkVotedParamsNew = {\n        question_id: quest_id,\n        user_id: parseInt(localStorage.getItem(\"token\"), 10)\n      };\n      console.log(\"updatneute data po clicknuti\");\n      console.log(SetVoteParamsNew);\n      console.log(SetMarkVotedParamsNew);\n      Axios.post('http://localhost:4001/voting/set-vote', SetVoteParamsNew).then(function (res) {\n        //ak toto preslo ok tak ulozime este info ze uzivatel hlasoval\n        Axios.post('http://localhost:4001/voting/set-mark-voted', SetMarkVotedParamsNew).then(function (res) {\n          console.log(\"menime selectedvoting na :\" + _this.state.SelectedVoting);\n\n          _this.forceUpdate();\n        })[\"catch\"](function (err) {\n          if (err.response) {\n            //TODO: show error response from server\n            window.alert(err.response.data.message);\n            console.log(err.response.data.message);\n\n            _this.setState(_objectSpread(_objectSpread({}, _this.state), {}, {\n              error: err.response.data.message\n            }));\n          } else if (err.request) {\n            //TODO: msg internet connection..\n            window.alert(\"Internet connection failed.\");\n          } else {\n            //TODO: rly dont know what error can happend here but can happend :D\n            window.alert(\"Something went wrong.\");\n          }\n        });\n      })[\"catch\"](function (err) {\n        if (err.response) {\n          //TODO: show error response from server\n          window.alert(err.response.data.message);\n          console.log(err.response.data.message);\n\n          _this.setState(_objectSpread(_objectSpread({}, _this.state), {}, {\n            error: err.response.data.message\n          }));\n        } else if (err.request) {\n          //TODO: msg internet connection..\n          window.alert(\"Internet connection failed.\");\n        } else {\n          //TODO: rly dont know what error can happend here but can happend :D\n          window.alert(\"Something went wrong.\");\n        }\n      });\n    };\n\n    _this.state = {\n      classes: makeStyles(styles),\n      SetVoteParams: {\n        answer_id: '',\n        question_id: '',\n        voting_id: '',\n        user_id: ''\n      },\n      SetMarkVotedParams: {\n        question_id: '',\n        user_id: ''\n      }\n    };\n    return _this;\n  }\n\n  _createClass(MyModal, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          otazka_id = _this$props.otazka_id,\n          hlavicka = _this$props.hlavicka,\n          odpovede = _this$props.odpovede,\n          parametre = _this$props.parametre,\n          onRequestClose = _this$props.onRequestClose;\n      console.log(hlavicka[0].name);\n      console.log(odpovede);\n      console.log(parametre);\n      var index_pom = 99;\n\n      if (parametre[0].accept_answ === 0) {\n        return /*#__PURE__*/React.createElement(Modal, {\n          onRequestClose: onRequestClose,\n          effect: Effect.SlideFromBottom,\n          className: (this.state.classes.content, this.state.classes.overlay),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(\"h3\", {\n          className: \"h3-custom\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 19\n          }\n        }, hlavicka[0].name, \" \"), /*#__PURE__*/React.createElement(\"p\", {\n          className: \"h5-custom\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 19\n          }\n        }, hlavicka[0].wording, \" \"), odpovede.map(function (item, index) {\n          return /*#__PURE__*/React.createElement(SquareButton, {\n            key: index,\n            clicked: function clicked() {\n              return _this2.handleClick(item.id_answer, otazka_id);\n            },\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 26\n            }\n          }, item.answer, \" \");\n        }));\n      } else {\n        return /*#__PURE__*/React.createElement(Modal, {\n          onRequestClose: onRequestClose,\n          effect: Effect.SlideFromBottom,\n          className: (this.state.classes.content, this.state.classes.overlay),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(\"h3\", {\n          className: \"h3-custom\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 19\n          }\n        }, hlavicka[0].name, \" \"), /*#__PURE__*/React.createElement(\"p\", {\n          className: \"h5-custom\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 19\n          }\n        }, hlavicka[0].wording, \" \"));\n      }\n    }\n  }]);\n\n  return MyModal;\n}(Component);\n\nexport default MyModal;","map":{"version":3,"sources":["/Users/apple/Public/Northflow/e-voting/src/components/Modal/MyModal.js"],"names":["React","Component","Modal","Effect","SquareButton","makeStyles","Aux","styles","overlay","position","top","left","right","bottom","zIndex","overflowY","height","backgroundColor","content","margin","width","border","background","borderRadius","outline","boxShadow","MyModal","props","handleClick","answer_id","quest_id","console","log","SetVoteParamsNew","question_id","voting_id","user_id","parseInt","localStorage","getItem","SetMarkVotedParamsNew","Axios","post","then","res","state","SelectedVoting","forceUpdate","err","response","window","alert","data","message","setState","error","request","classes","SetVoteParams","SetMarkVotedParams","otazka_id","hlavicka","odpovede","parametre","onRequestClose","name","index_pom","accept_answ","SlideFromBottom","wording","map","item","index","id_answer","answer"],"mappings":"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","sourcesContent":["import React,{Component} from 'react';\nimport { Modal,Effect} from 'react-dynamic-modal';\nimport SquareButton from '../CustomButtons/SquareButton';\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Aux from '../hoc/AuxComponent';\nimport './Modal.css';\n \nconst styles = {\n   overlay: {\n      position        : 'relative',\n      top             : 0,\n      left            : 0,\n      right           : 0,\n      bottom          : 0,\n      zIndex          : 99999999,\n      overflowY       : 'scroll',\n      height          : '500px',\n      backgroundColor : 'rgba(0, 0, 0, 0.3)'\n    },\n  \n    content: {\n      position                : 'relative',\n      margin                  : '15% auto',\n      width                   : '50%',\n      border                  : '1px solid rgba(0, 0, 0, .2)',\n      background              : '#fff',\n      overflowY               : 'scroll',\n      borderRadius            : '4px',\n      outline                 : 'none',\n      boxShadow               : '0 5px 10px rgba(0, 0, 0, .3)',\n      \n    }\n };\n\n\nclass MyModal extends Component{\n   constructor(props) {\n      super(props);\n  \n      this.state = {\n        classes : makeStyles(styles),\n        SetVoteParams:{\n         answer_id:'',\n         question_id:'',\n         voting_id:'',\n         user_id:''\n       },\n       SetMarkVotedParams:{\n        question_id:'',\n        user_id:''\n      },\n      }\n    }\n    \n\n    handleClick=(answer_id,quest_id)=>{\n      //onRequestClose\n      console.log(\"CLICKED \"+answer_id)\n\n      let SetVoteParamsNew = { \n         answer_id:answer_id,\n         question_id:quest_id,\n         voting_id:2,\n         user_id:parseInt(localStorage.getItem(\"token\"),10)\n        };\n        let SetMarkVotedParamsNew = { \n         question_id:quest_id,\n         user_id:parseInt(localStorage.getItem(\"token\"),10)\n        };\n   \n   \n       console.log(\"updatneute data po clicknuti\")\n       console.log(SetVoteParamsNew);\n       console.log(SetMarkVotedParamsNew);\n       \n       Axios.post('http://localhost:4001/voting/set-vote' , SetVoteParamsNew)\n       .then(res => {\n         \n       //ak toto preslo ok tak ulozime este info ze uzivatel hlasoval\n   \n       Axios.post('http://localhost:4001/voting/set-mark-voted' , SetMarkVotedParamsNew)\n       .then(res => {\n         \n   \n       console.log(\"menime selectedvoting na :\"+this.state.SelectedVoting);\n       this.forceUpdate();\n   \n       })\n       .catch(err => {\n         if (err.response) {\n           //TODO: show error response from server\n           window.alert(err.response.data.message);\n           \n           console.log(err.response.data.message);\n           this.setState({...this.state,error: err.response.data.message})\n         } else if (err.request) {\n           //TODO: msg internet connection..\n           window.alert(\"Internet connection failed.\");\n         } else {\n             //TODO: rly dont know what error can happend here but can happend :D\n             window.alert(\"Something went wrong.\");\n       }});\n       })\n       .catch(err => {\n         if (err.response) {\n           //TODO: show error response from server\n           window.alert(err.response.data.message);\n           \n           console.log(err.response.data.message);\n           this.setState({...this.state,error: err.response.data.message})\n         } else if (err.request) {\n           //TODO: msg internet connection..\n           window.alert(\"Internet connection failed.\");\n         } else {\n             //TODO: rly dont know what error can happend here but can happend :D\n             window.alert(\"Something went wrong.\");\n       }});\n       \n    }\n\n   render(){\n      const { otazka_id,hlavicka,odpovede,parametre, onRequestClose } = this.props;\n      console.log(hlavicka[0].name)\n      console.log(odpovede)\n      console.log(parametre)\n\n      let index_pom=99;\n           \n      if(parametre[0].accept_answ===0){\n\n         return (\n            <Modal\n               onRequestClose={onRequestClose}\n               effect={Effect.SlideFromBottom}\n               className={this.state.classes.content,this.state.classes.overlay}\n               >\n                  <h3 className='h3-custom'>{ hlavicka[0].name } </h3>\n                  <p className='h5-custom'>{ hlavicka[0].wording } </p>\n\n               {odpovede.map((item,index)=>{\n                  return <SquareButton key={index} clicked={() => this.handleClick(item.id_answer,otazka_id)}>{item.answer } </SquareButton>\n               }\n               )} \n            </Modal>\n         );\n      }else{\n         return(\n            <Modal\n               onRequestClose={onRequestClose}\n               effect={Effect.SlideFromBottom}\n               className={this.state.classes.content,this.state.classes.overlay}\n               >\n                  <h3 className='h3-custom'>{ hlavicka[0].name } </h3>\n                  <p className='h5-custom'>{ hlavicka[0].wording } </p>\n\n            </Modal>\n         )\n      }\n               \n   }\n}\n\nexport default MyModal;"]},"metadata":{},"sourceType":"module"}